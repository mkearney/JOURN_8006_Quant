<!DOCTYPE html>
<html>
  <head>
    <title>Week 10</title>
    <meta charset="utf-8">
    <meta name="author" content="Michael W. KearneyðŸ“Š School of Journalism  Informatics Institute  University of Missouri" />
    <link href="10-correlation_files/remark-css/robot.css" rel="stylesheet" />
    <link href="10-correlation_files/remark-css/robot-fonts.css" rel="stylesheet" />
    <link href="10-correlation_files/font-awesome/css/font-awesome.min.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Week 10
## Correlations
### Michael W. KearneyðŸ“Š<br/>School of Journalism <br/>Informatics Institute <br/>University of Missouri
### <table style="border-style:none;padding-top:30px;" class=".table">
<tr>
<th style="padding-right:75px!important">
<a href="https://twitter.com/kearneymw"> <i class="fa fa-twitter"></i> </a>
</th>
<th style="padding-left:75px!important">
<a href="https://github.com/mkearney"> <i class="fa fa-github"></i> </a>
</th>
</tr>
<tr style="background-color:#fff">
<th style="padding-right:75px!important">
<a href="https://github.com/mkearney"> <span class="citation">@kearneymw</span> </a>
</th>
<th style="padding-left:75px!important">
<a href="https://github.com/mkearney"> <span class="citation">@mkearney</span> </a>
</th>
</tr>
</table>

---




# \#rstats

Visualizations and data wrangling done using the [tidyverse](https://tidyverse.org).

+ **{ggplot2}**: data visualizations
+ **{dplyr}**: data wrangling


```r
## load the tidyverse
library(tidyverse)
&gt; â”€â”€ Attaching packages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse 1.2.1 â”€â”€
&gt; âœ” ggplot2 2.2.1.9000     âœ” purrr   0.2.4     
&gt; âœ” tibble  1.4.2          âœ” dplyr   0.7.4     
&gt; âœ” tidyr   0.8.0          âœ” stringr 1.3.0     
&gt; âœ” readr   1.1.1          âœ” forcats 0.3.0
&gt; â”€â”€ Conflicts â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ tidyverse_conflicts() â”€â”€
&gt; âœ– dplyr::filter() masks stats::filter()
&gt; âœ– dplyr::lag()    masks stats::lag()
```

---

# Correlation

A **correlation** describes how variation in one variable relates to variation in another variable. 

In statistics, correlations describe the **magnitude** and **direction** of a relationship between two variables. 


---


```r
## 20 observations from random normal distribution
x &lt;- rnorm(20)
## x + 20 observations from random normal distribution
y &lt;- rnorm(20) + x
## scatter plot
plot(x, y)
```

![](10-correlation_files/figure-html/unnamed-chunk-2-1.png)&lt;!-- --&gt;

---

# Correlation coefficient

In statistics, a **coefficient** refers to a numeric estimate.

A **correlation coefficient** `r` is a number that describes a correlation.

There are several types of correlation coefficients but they all tend to assume the following:

+ The **range of possible values** goes from -1 to +1
+ **Direction** is described by the sign of the coefficient (negative = negative relationship and vice versa)
+ **Magnitude** is described by the coefficient's distance from zero
    + A correlation of zero indicates an absence of correlation (no relationship)

---

# Types of correlations

**Pearson product-moment**: linear relationship between two variables 
`$$x\sim\sim y$$`

**Spearman's rho**: relationship between rankings of two variables 
`$$x\sim\sim y$$`

**Intraclass**: relationship between paired observations 
`$$x_{t1}\sim\sim x_{t2}$$`

---

# Semester

All of the correlations are similar, but you can assume when I talk about correlations I'm talking about the Pearson product-moment correlation.

When your variables are ordinal (ordered categories), it's important to remember there's a better way to estimate the correlation coefficient.

---

# Interval/ratio data


```r
## 20 observations from random normal distribution
x &lt;- rnorm(20)
## x + 20 observations from random normal distribution
y &lt;- rnorm(20) + x
## create data frame
df &lt;- data.frame(x, y)

## print
head(df)
```

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; x &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; y &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 0.0421704 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.1069906 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 0.1094202 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.0337078 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; -0.4858902 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -1.4649527 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 0.2227834 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.5521025 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 1.0890724 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.0231882 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; -0.3874563 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; -1.4037285 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;



---

# Ordinal data


```r
## sample twenty values from numbers 1,2,3,4,5,6
x &lt;- sample(c(1, 2, 3, 4, 5, 6), 20, replace = TRUE)
## sample twenty more, add them with x, and then divide by 2
y &lt;- round((x + sample(c(1, 2, 3, 4, 5, 6), 20, replace = TRUE)) / 2, 0)
## create data frame
df_ordered &lt;- data.frame(x, y)

## print
head(df_ordered)
```

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:right;"&gt; x &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; y &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;


---

# `cor(method = "pearson")`

By default, `cor()` returns the Pearson product-moment correlation.


```r
## using cor defaults
cor(df$x, df$y)
&gt; [1] 0.7904026
```

Use `method` to specify the type of correlation and `use` to deal with missing data


```r
## pearson product-moment correlation
cor(df$x, df$y, method = "pearson", use = "complete.obs")
&gt; [1] 0.7904026
```

---

# `cor(method = "spearman")`


```r
## pearson product-moment correlation
cor(df_ordered$x, df$y, method = "pearson", use = "complete.obs")
&gt; [1] -0.03636173

## spearman rho correlation
cor(df_ordered$x, df$y, method = "spearman", use = "complete.obs")
&gt; [1] 0.08293595
```


---

# Correlation tool

To visualize correlations of different values (-1 to 1) check out this Shiny app I made: 

+ https://mikewk.shinyapps.io/correlation/

`---
# Practice

Guess the correlation coefficient (the game):

+ http://guessthecorrelation.com/
    </textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function() {
  var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})();</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
  }
});
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
